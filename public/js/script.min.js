/*! script.js 1.0.0 | Utkarsh Gupta | MIT Licensed */function initiate_task(){$add_task.addClass("form_focus_background"),$add_task_title.fadeIn(),$add_task_form.fadeIn(),$list_icon.fadeIn()}function decimate_task(){$add_task.removeClass("form_focus_background"),$add_task_title.fadeOut(),$add_task_form.fadeOut(),$list_icon.fadeOut(),1==$check_list&&($add_task_list.fadeOut(),$add_task_list_item_plus.fadeOut(),$add_task_content.fadeIn(),$add_task_list_item.detach()),$add_task_title.text(""),$add_task_content.text(""),$check_list=0}function change_to_list(){$check_list=1,$add_task_content.fadeOut(100),$list_icon.fadeOut(),$add_task_list.fadeIn(),$add_task_list_item_plus.fadeIn(),add_list_item()}function add_list_item(){var a=jQuery("<div/>",{"class":"check"}),b=jQuery("<input>",{type:"checkbox",name:"checkbox"}),c=jQuery("<div/>",{"class":"add_task_list_item_content",placeholder:"Add task",contentEditable:"true"}),d=jQuery("<i/>",{"class":"fa fa-remove"}),e=jQuery("<div/>",{"class":"add_task_list_item"});b.appendTo(a),a.appendTo(e),c.appendTo(e),d.appendTo(e),e.appendTo($add_task_list),$add_task_list_item=$add_task_list.find(".add_task_list_item"),$add_task_list_item_content=$add_task_list.find(".add_task_list_item_content")}function submit_task(){var a;if($check_list){for(var b=$add_task_list_item.length,c={},d=0;b>d;d++){var e=$add_task_list_item.eq(d);e.find("input").is(":checked")?$task_item_checked=1:$task_item_checked=0,c[d]={content:e.children(".add_task_list_item_content").text(),done:$task_item_checked}}a={title:$add_task_title.text(),type:$check_list,list:c}}else a={title:$add_task_title.text(),content:$add_task_content.text(),type:$check_list};$.ajax({url:"/addtask",type:"POST",data:a,success:function(a){$newtask=a,decimate_task(),insert_task(a)},error:function(a){}})}function insert_task(a){$main.prepend(a),mason(a)}function delete_task(a){$.ajax({url:"/deletetask",type:"POST",data:{task_id:a},success:function(a){mason()}})}function mason(){main=document.querySelector("main"),masonry=new Masonry(main,{itemSelector:".task"})}var $add_task=$(".add_task"),$add_task_title=$(".add_task_title"),$add_task_content=$(".add_task_content"),$add_task_list=$(".add_task_list"),$add_task_list_item=$(".add_task_list_item"),$add_task_list_item_content=$(".add_task_list_item_content"),$remove_icon=$(".fa-remove"),$add_task_list_item_plus=$(".add_task_list_item_plus"),$add_task_form=$("#add_task_form"),$list_icon=$(".fa-list-ul"),$main=$("main"),$task=$(".task"),$check_list=0;$add_task_content.on("focus",function(){initiate_task()}),$list_icon.on("click",function(){change_to_list()}),$add_task_list_item_plus.on("click",function(){add_list_item()}),$add_task_list.on({mouseenter:function(){$(this).find(".fa-remove").fadeIn(100)},mouseleave:function(){$(this).find(".fa-remove").fadeOut(100)}},".add_task_list_item"),$add_task_list.on("click",".fa-remove",function(){$(this).parent().detach()}),$add_task_form.on("submit",function(){event.preventDefault(),submit_task()}),$main.on("click",".fa-remove",function(){$temp=$(this).parent().parent().parent(),$temp.fadeOut(),setTimeout(function(){$temp.detach()},400),setTimeout(function(){delete_task(parseInt($temp.attr("id").replace("task","")))},400)}),$main.on("change","input:checkbox",function(){$listitem=$(this).parent().parent(),$listitem_id=parseInt($listitem.attr("id").replace("listitem","")),$done=0,this.checked?($done=1,$listitem.addClass("line_through")):$listitem.removeClass("line_through"),$.ajax({url:"/really",type:"POST",data:{listitem_id:$listitem_id,done:$done},success:function(a){}})});var main=document.querySelector("main"),masonry=new Masonry(main,{itemSelector:".task"});