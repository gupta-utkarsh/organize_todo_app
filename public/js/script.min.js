/*! script.js 1.0.0 | Utkarsh Gupta | MIT Licensed */$(document).ready(function(){function a(){i.addClass("form_focus_background"),j.fadeIn(),p.fadeIn(),q.fadeIn()}function b(){i.removeClass("form_focus_background"),j.fadeOut(),p.fadeOut(),q.fadeOut(),1==s&&(l.fadeOut(),o.fadeOut(),k.fadeIn(),m.detach()),j.text(""),k.text(""),s=0}function c(){s=1,k.fadeOut(100),q.fadeOut(),l.fadeIn(),o.fadeIn(),d()}function d(){var a=jQuery("<div/>",{"class":"check"}),b=jQuery("<input>",{type:"checkbox",name:"checkbox"}),c=jQuery("<div/>",{"class":"add_task_list_item_content",placeholder:"Add task",contentEditable:"true"}),d=jQuery("<i/>",{"class":"fa fa-remove"}),e=jQuery("<div/>",{"class":"add_task_list_item"});b.appendTo(a),a.appendTo(e),c.appendTo(e),d.appendTo(e),e.appendTo(l),m=l.find(".add_task_list_item"),n=l.find(".add_task_list_item_content")}function e(){var a;if(s){for(var c=m.length,d={},e=0;c>e;e++){var g=m.eq(e);g.find("input").is(":checked")?$task_item_checked=1:$task_item_checked=0,d[e]={content:g.children(".add_task_list_item_content").text(),done:$task_item_checked}}a={title:j.text(),type:s,list:d}}else a={title:j.text(),content:k.text(),type:s};$.ajax({url:"/organize/index.php/addtask",type:"POST",data:a,success:function(a){$newtask=a,b(),f(a)},error:function(a){}})}function f(a){r.prepend(a),h(a)}function g(a){$.ajax({url:"/organize/index.php/deletetask",type:"POST",data:{task_id:a},success:function(a){h()}})}function h(){t=document.querySelector("main"),u=new Masonry(t,{itemSelector:".task"})}var i=$(".add_task"),j=$(".add_task_title"),k=$(".add_task_content"),l=$(".add_task_list"),m=$(".add_task_list_item"),n=$(".add_task_list_item_content"),o=($(".fa-remove"),$(".add_task_list_item_plus")),p=$("#add_task_form"),q=$(".fa-list-ul"),r=$("main"),s=($(".task"),0);k.on("focus",function(){a()}),q.on("click",function(){c()}),o.on("click",function(){d()}),l.on({mouseenter:function(){$(this).find(".fa-remove").fadeIn(100)},mouseleave:function(){$(this).find(".fa-remove").fadeOut(100)}},".add_task_list_item"),l.on("click",".fa-remove",function(){$(this).parent().detach()}),p.on("submit",function(){event.preventDefault(),e()}),r.on("click",".fa-remove",function(){$temp=$(this).parent().parent().parent(),$temp.fadeOut(),setTimeout(function(){$temp.detach()},400),setTimeout(function(){g(parseInt($temp.attr("id").replace("task","")))},400)}),r.on("change","input:checkbox",function(){$listitem=$(this).parent().parent(),$listitem_id=parseInt($listitem.attr("id").replace("listitem","")),$done=0,this.checked?($done=1,$listitem.addClass("line_through")):$listitem.removeClass("line_through"),$.ajax({url:"/organize/index.php/really",type:"POST",data:{listitem_id:$listitem_id,done:$done},success:function(a){}})});var t=document.querySelector("main"),u=new Masonry(t,{itemSelector:".task"})});